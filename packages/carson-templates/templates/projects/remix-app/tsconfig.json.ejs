---
to: 'tsconfig.json'
strategy: overwrite
---
<%
let tsconfig = lodash.merge(
  {
    compilerOptions: {
      ...TSCONFIG_COMPILER_OPTIONS,
      allowJs: true,
      esModuleInterop: true,
      noEmit: true,
      resolveJsonModule: true,
      rootDirs: ['.', './.react-router/types'],
    },
    include: project.config.deployment?.dbInstance
      ? ['./.react-router/types/**/*', './app/**/*', './dbschema/**/*', './*']
      : ['./.react-router/types/**/*', './app/**/*', './*'],
    references: getReferences(workspace, project),
  },
  project.config.overrides?.tsconfig ?? {},
);

// TODO: when EdgeDB client supports `exactOptionalPropertyTypes: true`, remove this line
if (project.config.deployment?.dbInstance) {
  tsconfig.compilerOptions.exactOptionalPropertyTypes = false;
}
-%>
//
// DO NOT EDIT!
// This file was autogenerated by Carson.
// Changes may cause incorrect behavior and will be lost when the file is regenerated.
//
// Run `npx carson update workspace` to regenerate.
//

<%- JSON.stringify(tsconfig, null, 2) %>
